<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PECR Test</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, sans-serif; background: #fafafa; padding: 20px; }
    .card { background: white; padding: 40px; border-radius: 10px; max-width: 800px; margin: 0 auto; }
    h1 { color: #f97316; margin-bottom: 10px; }
    .question { font-size: 24px; font-weight: 700; margin: 20px 0; }
    .option { padding: 15px; border: 2px solid #e5e5e5; border-radius: 8px; margin: 10px 0; cursor: pointer; }
    .option:hover { border-color: #f97316; }
    .option.selected { border-color: #f97316; background: #fff7ed; }
    input { width: 100%; padding: 15px; font-size: 16px; border: 2px solid #e5e5e5; border-radius: 8px; }
    button { padding: 15px 30px; background: #f97316; color: white; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; margin-top: 20px; }
    button:disabled { background: #ccc; }
  </style>
</head>
<body>
  <div class="card" id="app">
    <h1>ðŸš€ PECR Compliance Checker</h1>
    <div id="content"></div>
  </div>

  <script>
    let currentIndex = 0;
    let answers = {};
    
    const questions = [
      { id: 'name', type: 'text', question: 'What is your campaign name?' },
      { id: 'marketing', type: 'choice', question: 'Is this marketing?', options: ['Yes', 'No', 'Unsure'] },
      { id: 'consent', type: 'choice', question: 'Do you have consent?', options: ['Yes', 'No'] }
    ];
    
    function render() {
      const q = questions[currentIndex];
      let html = `<div class="question">Question ${currentIndex + 1}: ${q.question}</div>`;
      
      if (q.type === 'text') {
        html += `<input type="text" id="answer" placeholder="Type here..." />`;
      } else {
        q.options.forEach(opt => {
          const sel = answers[q.id] === opt ? 'selected' : '';
          html += `<div class="option ${sel}" onclick="select('${opt}')">${opt}</div>`;
        });
      }
      
      html += `<button id="nextBtn" onclick="next()" ${!answers[q.id] ? 'disabled' : ''}>
        ${currentIndex === questions.length - 1 ? 'Finish' : 'Next'}
      </button>`;
      
      document.getElementById('content').innerHTML = html;
      
      if (q.type === 'text') {
        document.getElementById('answer').oninput = (e) => {
          answers[q.id] = e.target.value;
          document.getElementById('nextBtn').disabled = !e.target.value;
        };
      }
    }
    
    function select(value) {
      answers[questions[currentIndex].id] = value;
      render();
    }
    
    function next() {
      if (currentIndex < questions.length - 1) {
        currentIndex++;
        render();
      } else {
        document.getElementById('content').innerHTML = '<h2>âœ… Complete!</h2><p>Answers: ' + JSON.stringify(answers) + '</p>';
      }
    }
    
    render();
  </script>
</body>
</html>
